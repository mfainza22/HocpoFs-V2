{"version":3,"sources":["webpack:///./src/mixins/navbarMixins.js","webpack:///./src/services/locationService.js","webpack:///./src/views/tables/Locations.vue?aea9","webpack:///src/views/tables/Locations.vue","webpack:///./src/views/tables/Locations.vue?be77","webpack:///./src/views/tables/Locations.vue","webpack:///./src/mixins/notiMixin.js"],"names":["mounted","EventBus","$emit","this","pageTitle","watch","val","rootURL","list","url","service","get","getById","id","create","obj","post","update","put","bulkDelete","ids","console","log","length","errors","idsUrl","join","delete","then","a","error","push","response","status","statusText","LocationName","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","tblHeaders","items","search","scopedSlots","_u","key","fn","on","$event","remove","name","staticStyle","model","value","callback","$$v","expression","proxy","ref","item","params","LocationId","_v","checkedRows","staticRenderFns","mixins","navbarMixins","data","methods","beforeRouteUpdate","from","meta","cancelled","init","next","component","VBtn","VDataTable","VIcon","VSheet","VSpacer","VTextField","VToolbar","mapActions","showNotification"],"mappings":"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","file":"js/chunk-3982d00e.34c7e7b1.js","sourcesContent":["import { EventBus } from \"@/main.js\";\r\nexport default {\r\n  mounted() {\r\n    EventBus.$emit(\"setPageTitle\", this.pageTitle);\r\n  },\r\n  watch: {\r\n    pageTitle(val) {\r\n      EventBus.$emit(\"setPageTitle\", val);\r\n    }\r\n  }\r\n};\r\n","import service from \"./service.js\";\r\n\r\nexport default {\r\n  rootURL: \"/location\",\r\n  list() {\r\n    let url = this.rootURL;\r\n    return service.get(url);\r\n  },\r\n  getById(id) {\r\n    let url = `${this.rootURL}/${id}`;\r\n    return service.get(url);\r\n  },\r\n  create(obj) {\r\n    let url = `${this.rootURL}`;\r\n    return service.post(url, obj);\r\n  },\r\n  update(id, obj) {\r\n    let url = `${this.rootURL}/${id}`;\r\n    return service.put(url, obj);\r\n  },\r\n  async bulkDelete(ids) {\r\n    console.log(ids);\r\n    if (ids.length == 0) return;\r\n    let errors = [];\r\n    let idsUrl = ids.join(\",\");\r\n    let url = `${this.rootURL}/BulkDelete/${idsUrl}`;\r\n\r\n    try {\r\n      await service.delete(url).then(a => console.log(a));\r\n    } catch (error) {\r\n      console.error(url, error);\r\n      errors.push(error);\r\n      throw errors;\r\n    }\r\n  },\r\n  async delete(obj) {\r\n    if (obj == null) {\r\n      throw \"Please select a record to Delete\";\r\n    }\r\n    let errors = [];\r\n    let url = \"\";\r\n    try {\r\n      url = `${this.rootURL}/${obj}`;\r\n      await service.delete(url).then(a => console.log(a));\r\n    } catch (error) {\r\n      console.error(url, error);\r\n      errors.push(error);\r\n      throw errors;\r\n    }\r\n    var response = {};\r\n    if (errors.length == 0) {\r\n      response = {\r\n        status: \"200\",\r\n        statusText: `Deleting of \"${obj.LocationName}\" Successful`\r\n      };\r\n    } else {\r\n      response = {\r\n        status: \"404\",\r\n        statusText: `Failed to delete some of the selected records`,\r\n        errors: errors\r\n      };\r\n    }\r\n    return response;\r\n  }\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pa-10\"},[_c('v-sheet',{staticClass:\"elevation-1\"},[_c('v-data-table',{attrs:{\"item-key\":\"LocationId\",\"headers\":_vm.tblHeaders,\"items\":_vm.items,\"search\":_vm.search,\"show-select\":\"\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('ButtonDelete',{on:{\"click\":function($event){return _vm.remove()}}}),_c('v-spacer'),_c('ButtonAdd',{attrs:{\"to\":{ name: 'LocationCreate' }}}),_c('v-text-field',{staticStyle:{\"max-width\":\"320px\"},attrs:{\"label\":\"Search by Name\",\"color\":\"grey\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"prepend-icon\":\"mdi-search\",\"show-select\":true},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]},proxy:true},{key:\"item.id\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{staticClass:\"elevation-1\",attrs:{\"fab\":\"\",\"x-small\":\"\",\"to\":{ name: 'LocationUpdate', params: { id: item.LocationId } }}},[_c('v-icon',{attrs:{\"color\":\"success\"}},[_vm._v(\"mdi-pencil\")])],1)]}}]),model:{value:(_vm.checkedRows),callback:function ($$v) {_vm.checkedRows=$$v},expression:\"checkedRows\"}})],1),_c('router-view'),_c('MessageBox',{ref:\"messagebox\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pa-10\">\r\n    <v-sheet class=\"elevation-1\">\r\n      <v-data-table\r\n        v-model=\"checkedRows\"\r\n        item-key=\"LocationId\"\r\n        :headers=\"tblHeaders\"\r\n        :items=\"items\"\r\n        :search=\"search\"\r\n        show-select\r\n      >\r\n        <template v-slot:top>\r\n          <v-toolbar flat>\r\n            <ButtonDelete @click=\"remove()\" />\r\n            <v-spacer></v-spacer>\r\n            <ButtonAdd :to=\"{ name: 'LocationCreate' }\" />\r\n            <v-text-field\r\n              v-model=\"search\"\r\n              label=\"Search by Name\"\r\n              style=\"max-width:320px\"\r\n              color=\"grey\"\r\n              outlined\r\n              dense\r\n              hide-details\r\n              prepend-icon=\"mdi-search\"\r\n              :show-select=\"true\"\r\n            ></v-text-field>\r\n          </v-toolbar>\r\n        </template>\r\n        <template v-slot:item.id=\"{ item }\">\r\n          <v-btn\r\n            fab\r\n            x-small\r\n            class=\"elevation-1\"\r\n            :to=\"{ name: 'LocationUpdate', params: { id: item.LocationId } }\"\r\n          >\r\n            <v-icon color=\"success\">mdi-pencil</v-icon>\r\n          </v-btn>\r\n        </template>\r\n      </v-data-table>\r\n    </v-sheet>\r\n    <router-view></router-view>\r\n    <MessageBox ref=\"messagebox\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navbarMixins from \"@/mixins/navbarMixins.js\";\r\nimport notiMixin from \"@/mixins/notiMixin.js\";\r\nimport locationService from \"@/services/locationService.js\";\r\n\r\nexport default {\r\n  mixins: [navbarMixins, notiMixin],\r\n  data() {\r\n    return {\r\n      pageTitle: \"Locations\",\r\n      checkedRows: [],\r\n      search: \"\",\r\n      items: [],\r\n      tblHeaders: [\r\n        {\r\n          text: \"Location\",\r\n          value: \"LocationName\",\r\n          sortable: true,\r\n          align: \"left\"\r\n        },\r\n        {\r\n          text: \"action\",\r\n          value: \"id\",\r\n          align: \"right\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  async created() {\r\n    this.checkedRows = [];\r\n    await this.init();\r\n  },\r\n  methods: {\r\n    async init() {\r\n      try {\r\n        const response = await locationService.list();\r\n        this.items = response.data;\r\n        this.checkedRows = [];\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async remove() {\r\n      if (this.checkedRows.length == 0) return;\r\n\r\n      const msgBoxOpts = {\r\n        title: \"Delete Confirmation\",\r\n        content: `Do you want to delete selected items(${this.checkedRows.length})`,\r\n        buttons: \"deleteCancel\"\r\n      };\r\n      const noti = {\r\n        visible: true\r\n      };\r\n\r\n      this.$refs.messagebox.open(msgBoxOpts, async () => {\r\n        try {\r\n          let params = this.checkedRows.map(a => a.LocationId);\r\n          await locationService.bulkDelete(params);\r\n\r\n          noti.type = \"success\";\r\n          noti.content = `${params.length} ${\r\n            params.length == 1 ? \"record\" : \"records\"\r\n          } deleted successfully`;\r\n\r\n          this.init();\r\n        } catch (error) {\r\n          noti.type = \"error\";\r\n          this.internalErrorMsg = error;\r\n          noti.content = error;\r\n        } finally {\r\n          this.showNotification(noti);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    if (!from.meta.cancelled == true) this.init();\r\n    next();\r\n  }\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Locations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Locations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Locations.vue?vue&type=template&id=65a0de44&\"\nimport script from \"./Locations.vue?vue&type=script&lang=js&\"\nexport * from \"./Locations.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VDataTable,VIcon,VSheet,VSpacer,VTextField,VToolbar})\n","import { mapActions } from \"vuex\";\r\nexport default {\r\n  methods: {\r\n    ...mapActions(\"notification\", {\r\n      showNotification: \"show\"\r\n    })\r\n  }\r\n};\r\n"],"sourceRoot":""}