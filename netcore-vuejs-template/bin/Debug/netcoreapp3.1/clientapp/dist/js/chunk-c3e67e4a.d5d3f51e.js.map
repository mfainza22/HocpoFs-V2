{"version":3,"sources":["webpack:///./src/mixins/navbarMixins.js","webpack:///./src/views/tables/BinLocations.vue?b8f4","webpack:///src/views/tables/BinLocations.vue","webpack:///./src/views/tables/BinLocations.vue?b27b","webpack:///./src/views/tables/BinLocations.vue","webpack:///./src/services/binLocService.js","webpack:///./src/mixins/notiMixin.js"],"names":["mounted","EventBus","$emit","this","pageTitle","watch","val","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","tblHeaders","items","search","scopedSlots","_u","key","fn","on","$event","remove","name","staticStyle","model","value","callback","$$v","expression","proxy","ref","item","params","id","BinLocationId","_v","checkedRows","staticRenderFns","mixins","navbarMixins","data","methods","beforeRouteUpdate","from","meta","cancelled","init","next","component","VBtn","VDataTable","VIcon","VSheet","VSpacer","VTextField","VToolbar","rootURL","list","url","service","get","getById","create","obj","post","update","put","bulkDelete","ids","console","log","length","errors","idsUrl","join","delete","then","a","error","push","response","status","statusText","BinLocDesc","mapActions","showNotification"],"mappings":"kHAAA,gBACe,QACbA,QADa,WAEXC,cAASC,MAAM,eAAgBC,KAAKC,YAEtCC,MAAO,CACLD,UADK,SACKE,GACRL,cAASC,MAAM,eAAgBI,O,yCCPrC,IAAIC,EAAS,WAAa,IAAIC,EAAIL,KAASM,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,UAAU,CAACE,YAAY,eAAe,CAACF,EAAG,eAAe,CAACG,MAAM,CAAC,WAAW,gBAAgB,QAAUN,EAAIO,WAAW,MAAQP,EAAIQ,MAAM,OAASR,EAAIS,OAAO,cAAc,IAAIC,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,MAAMC,GAAG,WAAW,MAAO,CAACV,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,eAAe,CAACW,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,aAAab,EAAG,YAAYA,EAAG,YAAY,CAACG,MAAM,CAAC,GAAK,CAAEW,KAAM,wBAAyBd,EAAG,eAAe,CAACe,YAAY,CAAC,YAAY,SAASZ,MAAM,CAAC,MAAQ,iBAAiB,MAAQ,OAAO,SAAW,GAAG,MAAQ,GAAG,eAAe,GAAG,eAAe,aAAa,eAAc,GAAMa,MAAM,CAACC,MAAOpB,EAAU,OAAEqB,SAAS,SAAUC,GAAMtB,EAAIS,OAAOa,GAAKC,WAAW,aAAa,KAAKC,OAAM,GAAM,CAACZ,IAAI,qBAAqBC,GAAG,SAASY,GAC92B,IAAIC,EAAOD,EAAIC,KACf,MAAO,CAACvB,EAAG,QAAQ,CAACE,YAAY,cAAcC,MAAM,CAAC,IAAM,GAAG,UAAU,GAAG,GAAK,CACpEW,KAAM,oBACNU,OAAQ,CAAEC,GAAIF,EAAKG,kBACjB,CAAC1B,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,YAAY,CAACN,EAAI8B,GAAG,iBAAiB,QAAQX,MAAM,CAACC,MAAOpB,EAAe,YAAEqB,SAAS,SAAUC,GAAMtB,EAAI+B,YAAYT,GAAKC,WAAW,kBAAkB,GAAGpB,EAAG,eAAeA,EAAG,aAAa,CAACsB,IAAI,gBAAgB,IACxPO,EAAkB,G,gFCgDtB,GACEC,OAAQ,CAACC,EAAX,aACEC,KAFF,WAGI,MAAO,CACLvC,UAAW,gBACXmC,YAAa,GACbtB,OAAQ,GACRD,MAAO,GACPD,WAAY,CAClB,CACQ,KAAR,cACQ,MAAR,aACQ,UAAR,EACQ,MAAR,QAEA,CACQ,KAAR,SACQ,MAAR,gBACQ,MAAR,YAKE,QAvBF,WAuBA,+JACA,iBADA,SAEA,SAFA,8CAIE6B,QAAS,CACP,KADJ,WACA,uLAEA,cAFA,OAEA,EAFA,OAGA,eACA,iBAJA,mDAMA,kBANA,4DASI,OAVJ,WAUA,mKACA,wBADA,iDAGA,GACA,4BACA,iFACA,wBAEA,GACA,YAGA,sLAEA,2DAFA,SAGA,qBAHA,OAKA,iBACA,yCACA,+BADA,yBAIA,SAVA,mDAYA,eACA,wBACA,eAdA,yBAgBA,sBAhBA,6EAZA,+CAiCEC,kBAtEF,SAsEA,OACgC,IAAvBC,EAAKC,KAAKC,WAAmB7C,KAAK8C,OACvCC,MC9H+Z,I,qHCO/ZC,EAAY,eACd,EACA5C,EACAiC,GACA,EACA,KACA,KACA,MAIa,aAAAW,EAAiB,QAWhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,aAAA,KAAWC,QAAA,KAAMC,SAAA,KAAOC,UAAA,KAAQC,aAAA,KAAWC,WAAA,Q,4FC3B/D,QACbC,QAAS,eACTC,KAFa,WAGX,IAAIC,EAAM1D,KAAKwD,QACf,OAAOG,OAAQC,IAAIF,IAErBG,QANa,SAML5B,GACN,IAAIyB,EAAM,GAAH,OAAM1D,KAAKwD,QAAX,YAAsBvB,GAC7B,OAAO0B,OAAQC,IAAIF,IAErBI,OAVa,SAUNC,GACL,IAAIL,EAAM,GAAH,OAAM1D,KAAKwD,SAClB,OAAOG,OAAQK,KAAKN,EAAKK,IAE3BE,OAda,SAcNhC,EAAI8B,GACT,IAAIL,EAAM,GAAH,OAAM1D,KAAKwD,QAAX,YAAsBvB,GAC7B,OAAO0B,OAAQO,IAAIR,EAAKK,IAEpBI,WAlBO,SAkBIC,GAAK,qKACpBC,QAAQC,IAAIF,GACM,GAAdA,EAAIG,OAFY,wDAGhBC,EAAS,GACTC,EAASL,EAAIM,KAAK,KAClBhB,EALgB,UAKP,EAAKF,QALE,uBAKoBiB,GALpB,kBAQZd,OAAQgB,OAAOjB,GAAKkB,MAAK,SAAAC,GAAC,OAAIR,QAAQC,IAAIO,MAR9B,kEAUlBR,QAAQS,MAAMpB,EAAd,MACAc,EAAOO,KAAP,MACMP,EAZY,6DAehBG,OAjCO,SAiCAZ,GAAK,qKACL,MAAPA,EADY,qBAER,mCAFQ,cAIZS,EAAS,GACTd,EAAM,GALM,SAOdA,EAAM,GAAH,OAAM,EAAKF,QAAX,YAAsBO,GAPX,SAQRJ,OAAQgB,OAAOjB,GAAKkB,MAAK,SAAAC,GAAC,OAAIR,QAAQC,IAAIO,MARlC,kEAUdR,QAAQS,MAAMpB,EAAd,MACAc,EAAOO,KAAP,MACMP,EAZQ,eAcZQ,EAAW,GAEbA,EADmB,GAAjBR,EAAOD,OACE,CACTU,OAAQ,MACRC,WAAY,gBAAF,OAAkBnB,EAAIoB,WAAtB,iBAGD,CACTF,OAAQ,MACRC,WAAY,gDACZV,OAAQA,GAxBI,kBA2BTQ,GA3BS,+D,8DClCL,QACbvC,QAAS,kBACJ2C,eAAW,eAAgB,CAC5BC,iBAAkB","file":"js/chunk-c3e67e4a.d5d3f51e.js","sourcesContent":["import { EventBus } from \"@/main.js\";\r\nexport default {\r\n  mounted() {\r\n    EventBus.$emit(\"setPageTitle\", this.pageTitle);\r\n  },\r\n  watch: {\r\n    pageTitle(val) {\r\n      EventBus.$emit(\"setPageTitle\", val);\r\n    }\r\n  }\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pa-10\"},[_c('v-sheet',{staticClass:\"elevation-1\"},[_c('v-data-table',{attrs:{\"item-key\":\"BinLocationId\",\"headers\":_vm.tblHeaders,\"items\":_vm.items,\"search\":_vm.search,\"show-select\":\"\"},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('ButtonDelete',{on:{\"click\":function($event){return _vm.remove()}}}),_c('v-spacer'),_c('ButtonAdd',{attrs:{\"to\":{ name: 'BinLocationCreate' }}}),_c('v-text-field',{staticStyle:{\"max-width\":\"320px\"},attrs:{\"label\":\"Search by Name\",\"color\":\"grey\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"prepend-icon\":\"mdi-search\",\"show-select\":true},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]},proxy:true},{key:\"item.BinLocationId\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{staticClass:\"elevation-1\",attrs:{\"fab\":\"\",\"x-small\":\"\",\"to\":{\n            name: 'BinLocationUpdate',\n            params: { id: item.BinLocationId }\n          }}},[_c('v-icon',{attrs:{\"color\":\"success\"}},[_vm._v(\"mdi-pencil\")])],1)]}}]),model:{value:(_vm.checkedRows),callback:function ($$v) {_vm.checkedRows=$$v},expression:\"checkedRows\"}})],1),_c('router-view'),_c('MessageBox',{ref:\"messagebox\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pa-10\">\r\n    <v-sheet class=\"elevation-1\">\r\n      <v-data-table\r\n        v-model=\"checkedRows\"\r\n        item-key=\"BinLocationId\"\r\n        :headers=\"tblHeaders\"\r\n        :items=\"items\"\r\n        :search=\"search\"\r\n        show-select\r\n      >\r\n        <template v-slot:top>\r\n          <v-toolbar flat>\r\n            <ButtonDelete @click=\"remove()\" />\r\n            <v-spacer></v-spacer>\r\n            <ButtonAdd :to=\"{ name: 'BinLocationCreate' }\" />\r\n            <v-text-field\r\n              v-model=\"search\"\r\n              label=\"Search by Name\"\r\n              style=\"max-width:320px\"\r\n              color=\"grey\"\r\n              outlined\r\n              dense\r\n              hide-details\r\n              prepend-icon=\"mdi-search\"\r\n              :show-select=\"true\"\r\n            ></v-text-field>\r\n          </v-toolbar>\r\n        </template>\r\n        <template v-slot:item.BinLocationId=\"{ item }\">\r\n          <v-btn\r\n            fab\r\n            x-small\r\n            class=\"elevation-1\"\r\n            :to=\"{\r\n              name: 'BinLocationUpdate',\r\n              params: { id: item.BinLocationId }\r\n            }\"\r\n          >\r\n            <v-icon color=\"success\">mdi-pencil</v-icon>\r\n          </v-btn>\r\n        </template>\r\n      </v-data-table>\r\n    </v-sheet>\r\n    <router-view></router-view>\r\n    <MessageBox ref=\"messagebox\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navbarMixins from \"@/mixins/navbarMixins.js\";\r\nimport notiMixin from \"@/mixins/notiMixin.js\";\r\nimport binLocService from \"@/services/binLocService.js\";\r\n\r\nexport default {\r\n  mixins: [navbarMixins, notiMixin],\r\n  data() {\r\n    return {\r\n      pageTitle: \"Bin Locations\",\r\n      checkedRows: [],\r\n      search: \"\",\r\n      items: [],\r\n      tblHeaders: [\r\n        {\r\n          text: \"Description\",\r\n          value: \"BinLocDesc\",\r\n          sortable: true,\r\n          align: \"left\"\r\n        },\r\n        {\r\n          text: \"action\",\r\n          value: \"BinLocationId\",\r\n          align: \"right\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  async created() {\r\n    this.checkedRows = [];\r\n    await this.init();\r\n  },\r\n  methods: {\r\n    async init() {\r\n      try {\r\n        const response = await binLocService.list();\r\n        this.items = response.data;\r\n        this.checkedRows = [];\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async remove() {\r\n      if (this.checkedRows.length == 0) return;\r\n\r\n      const msgBoxOpts = {\r\n        title: \"Delete Confirmation\",\r\n        content: `Do you want to delete selected items(${this.checkedRows.length})`,\r\n        buttons: \"deleteCancel\"\r\n      };\r\n      const noti = {\r\n        visible: true\r\n      };\r\n\r\n      this.$refs.messagebox.open(msgBoxOpts, async () => {\r\n        try {\r\n          let params = this.checkedRows.map(a => a.BinLocationId);\r\n          await binLocService.bulkDelete(params);\r\n\r\n          noti.type = \"success\";\r\n          noti.content = `${params.length} ${\r\n            params.length == 1 ? \"record\" : \"records\"\r\n          } deleted successfully`;\r\n\r\n          this.init();\r\n        } catch (error) {\r\n          noti.type = \"error\";\r\n          this.internalErrorMsg = error;\r\n          noti.content = error;\r\n        } finally {\r\n          this.showNotification(noti);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    if (!from.meta.cancelled == true) this.init();\r\n    next();\r\n  }\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BinLocations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BinLocations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BinLocations.vue?vue&type=template&id=0c2c72de&\"\nimport script from \"./BinLocations.vue?vue&type=script&lang=js&\"\nexport * from \"./BinLocations.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VDataTable,VIcon,VSheet,VSpacer,VTextField,VToolbar})\n","import service from \"./service.js\";\r\n\r\nexport default {\r\n  rootURL: \"/binLocation\",\r\n  list() {\r\n    let url = this.rootURL;\r\n    return service.get(url);\r\n  },\r\n  getById(id) {\r\n    let url = `${this.rootURL}/${id}`;\r\n    return service.get(url);\r\n  },\r\n  create(obj) {\r\n    let url = `${this.rootURL}`;\r\n    return service.post(url, obj);\r\n  },\r\n  update(id, obj) {\r\n    let url = `${this.rootURL}/${id}`;\r\n    return service.put(url, obj);\r\n  },\r\n  async bulkDelete(ids) {\r\n    console.log(ids);\r\n    if (ids.length == 0) return;\r\n    let errors = [];\r\n    let idsUrl = ids.join(\",\");\r\n    let url = `${this.rootURL}/BulkDelete/${idsUrl}`;\r\n\r\n    try {\r\n      await service.delete(url).then(a => console.log(a));\r\n    } catch (error) {\r\n      console.error(url, error);\r\n      errors.push(error);\r\n      throw errors;\r\n    }\r\n  },\r\n  async delete(obj) {\r\n    if (obj == null) {\r\n      throw \"Please select a record to Delete\";\r\n    }\r\n    let errors = [];\r\n    let url = \"\";\r\n    try {\r\n      url = `${this.rootURL}/${obj}`;\r\n      await service.delete(url).then(a => console.log(a));\r\n    } catch (error) {\r\n      console.error(url, error);\r\n      errors.push(error);\r\n      throw errors;\r\n    }\r\n    var response = {};\r\n    if (errors.length == 0) {\r\n      response = {\r\n        status: \"200\",\r\n        statusText: `Deleting of \"${obj.BinLocDesc}\" Successful`\r\n      };\r\n    } else {\r\n      response = {\r\n        status: \"404\",\r\n        statusText: `Failed to delete some of the selected records`,\r\n        errors: errors\r\n      };\r\n    }\r\n    return response;\r\n  }\r\n};\r\n","import { mapActions } from \"vuex\";\r\nexport default {\r\n  methods: {\r\n    ...mapActions(\"notification\", {\r\n      showNotification: \"show\"\r\n    })\r\n  }\r\n};\r\n"],"sourceRoot":""}